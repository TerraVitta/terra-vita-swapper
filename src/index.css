@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Terra Vita Design System - Light Mode */
    --background: 42 47% 90%;
    --background-dark: 96 30% 8%;
    --foreground: 96 44% 21%;
    
    --card: 30 38% 97%;
    --card-foreground: 96 44% 21%;
    
    --popover: 30 38% 97%;
    --popover-foreground: 96 44% 21%;
    
    --primary: 96 44% 21%;
    --primary-foreground: 30 38% 97%;
    
    --secondary: 42 47% 85%;
    --secondary-foreground: 96 44% 21%;
    
    --muted: 42 30% 80%;
    --muted-foreground: 96 20% 40%;
    
    --accent: 35 91% 53%;
    --accent-foreground: 30 38% 97%;
    
    --destructive: 0 84% 60%;
    --destructive-foreground: 30 38% 97%;
    
    --border: 42 30% 75%;
    --input: 42 30% 75%;
    --ring: 35 91% 53%;
    
    --radius: 0.75rem;
    
    /* Terra Vita custom colors */
    --terra-green: 96 44% 21%;
    --terra-orange: 35 91% 53%;
    --terra-cream: 42 47% 90%;
    --terra-sand: 30 38% 97%;
    
    /* Gradients */
    --gradient-eco: linear-gradient(135deg, hsl(96 44% 21%), hsl(35 91% 53%));
    --gradient-glow: linear-gradient(180deg, hsl(35 91% 53% / 0.1), transparent);
    
    /* Shadows */
    --shadow-eco: 0 10px 40px -10px hsl(96 44% 21% / 0.2);
    --shadow-glow: 0 0 30px hsl(35 91% 53% / 0.3);
    
    --sidebar-background: 30 38% 97%;
    --sidebar-foreground: 96 44% 21%;
    --sidebar-primary: 96 44% 21%;
    --sidebar-primary-foreground: 30 38% 97%;
    --sidebar-accent: 42 47% 85%;
    --sidebar-accent-foreground: 96 44% 21%;
    --sidebar-border: 42 30% 75%;
    --sidebar-ring: 35 91% 53%;
  }

  .dark {
    /* Terra Vita Design System - Dark Mode */
    --background: 96 30% 8%;
    --foreground: 42 47% 90%;
    
    --card: 96 25% 12%;
    --card-foreground: 42 47% 90%;
    
    --popover: 96 25% 12%;
    --popover-foreground: 42 47% 90%;
    
    --primary: 35 91% 53%;
    --primary-foreground: 96 30% 8%;
    
    --secondary: 96 20% 18%;
    --secondary-foreground: 42 47% 90%;
    
    --muted: 96 20% 18%;
    --muted-foreground: 42 30% 70%;
    
    --accent: 96 44% 21%;
    --accent-foreground: 42 47% 90%;
    
    --destructive: 0 72% 50%;
    --destructive-foreground: 42 47% 90%;
    
    --border: 96 20% 18%;
    --input: 96 20% 18%;
    --ring: 35 91% 53%;
    
    --terra-green: 96 44% 35%;
    --terra-orange: 35 91% 53%;
    --terra-cream: 96 30% 8%;
    --terra-sand: 96 25% 12%;
    
    --gradient-eco: linear-gradient(135deg, hsl(96 44% 35%), hsl(35 91% 53%));
    --gradient-glow: linear-gradient(180deg, hsl(35 91% 53% / 0.15), transparent);
    
    --shadow-eco: 0 10px 40px -10px hsl(35 91% 53% / 0.3);
    --shadow-glow: 0 0 40px hsl(35 91% 53% / 0.4);
    
    --sidebar-background: 96 25% 12%;
    --sidebar-foreground: 42 47% 90%;
    --sidebar-primary: 35 91% 53%;
    --sidebar-primary-foreground: 96 30% 8%;
    --sidebar-accent: 96 20% 18%;
    --sidebar-accent-foreground: 42 47% 90%;
    --sidebar-border: 96 20% 18%;
    --sidebar-ring: 35 91% 53%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground overflow-x-hidden;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }
}

@layer utilities {
  /* Fluid side ribbons */
  .fluid-ribbon {
    position: fixed;
    width: 120px;
    height: 100vh;
    top: 0;
    z-index: 0;
    pointer-events: none;
    opacity: 0.15;
  }
  
  .fluid-ribbon-left {
    left: 0;
    background: linear-gradient(180deg, 
      hsl(var(--terra-green)) 0%,
      hsl(var(--terra-orange)) 50%,
      hsl(var(--terra-green)) 100%);
    animation: flowDown 20s ease-in-out infinite;
    clip-path: polygon(0 0, 100% 0, 80% 100%, 0 100%);
  }
  
  .fluid-ribbon-right {
    right: 0;
    background: linear-gradient(180deg, 
      hsl(var(--terra-orange)) 0%,
      hsl(var(--terra-green)) 50%,
      hsl(var(--terra-orange)) 100%);
    animation: flowUp 20s ease-in-out infinite;
    clip-path: polygon(20% 0, 100% 0, 100% 100%, 0 100%);
  }
  
  @keyframes flowDown {
    0%, 100% { transform: translateY(0) scaleY(1); }
    50% { transform: translateY(-10%) scaleY(1.1); }
  }
  
  @keyframes flowUp {
    0%, 100% { transform: translateY(0) scaleY(1); }
    50% { transform: translateY(10%) scaleY(1.1); }
  }
  
  /* Confetti animation */
  @keyframes confetti {
    0% {
      transform: translateY(0) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(-100vh) rotate(720deg);
      opacity: 0;
    }
  }
  
  .confetti {
    animation: confetti 2s ease-out forwards;
  }
  
  /* Scan pulse */
  @keyframes scanPulse {
    0%, 100% { opacity: 0.4; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.05); }
  }
  
  .scan-pulse {
    animation: scanPulse 1.5s ease-in-out infinite;
  }
  
  /* Card glow hover */
  .card-glow {
    position: relative;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .card-glow::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background: var(--gradient-eco);
    opacity: 0;
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: -1;
    filter: blur(10px);
  }
  
  .card-glow:hover::before {
    opacity: 0.5;
  }
  
  .card-glow:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-glow);
  }
  
  /* Shimmer skeleton */
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
  
  .shimmer {
    background: linear-gradient(
      90deg,
      hsl(var(--muted)) 0%,
      hsl(var(--muted-foreground) / 0.1) 50%,
      hsl(var(--muted)) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }

  /* Loading Screen Styles */
  .loader {
    margin: 0 auto;
    display: flex;
    width: 12rem;
    height: 12rem;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    overflow: hidden;
    position: relative;
    border-radius: 50%;
    border: 0.4rem solid #52c5ff;
  }

  .container-1 { animation-delay: 1s; }
  .container-2 { animation-delay: 1.3s; }
  .container-3 { animation-delay: 1.6s; }
  .container-4 { animation-delay: 1.9s; }

  .tars {
    z-index: 0;
    position: absolute;
    height: 100px;
    width: 130px;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    transform-style: preserve-3d;
    animation: rotateX3D 6s ease-in-out infinite;
    animation-delay: 1s;
  }

  .container-1, .container-2, .container-3, .container-4 {
    position: relative;
    display: flex;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    animation: rotateY3D 3s ease-in infinite both;
  }

  .shape {
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    position: relative;
    z-index: -1;
  }

  .shape div {
    display: block;
    position: absolute;
    text-align: center;
  }

  .container-2 .f::after, .container-3 .f::after {
    position: absolute;
    content: '';
    width: 100%;
    z-index: -1;
    height: 20px;
    background-image: radial-gradient(#54ff6e 2px, transparent 1%);
    background-size: 20px 5px;
    left: 0;
    top: 20%;
    border: 0;
    animation: animMove 2s linear infinite alternate-reverse;
    overflow: hidden;
  }

  .container-2 .f::before, .container-3 .f::before {
    position: absolute;
    content: '';
    width: 85%;
    z-index: -1;
    height: 20px;
    left: 0;
    top: 20%;
    border: 0;
    background: #181818;
    border: 2px solid #52c5ff;
    overflow: hidden;
  }

  .f {
    transform: rotateY(0deg) translateZ(15px);
    border-radius: 2px;
    overflow: hidden;
    transform-style: preserve-3d;
    width: 30px;
    height: 100px;
    background: #212121;
    box-shadow: inset 0 0 0 2px #52c5ff;
    border: 2px solid #52c5ff;
  }

  .b {
    transform: rotateX(180deg) translateZ(15px);
    border-radius: 2px;
    width: 30px;
    height: 100px;
    background: #212121;
    box-shadow: inset 0 0 0 2px #52c5ff;
    border: 2px solid #52c5ff;
  }

  .l {
    transform: rotateY(-90deg) translateZ(0px);
    border-radius: 2px;
    width: 30px;
    height: 100px;
    left: 15px;
    position: relative;
    z-index: -1;
    background: #212121;
    box-shadow: inset 0 0 0 2px #52c5ff;
    border: 2px solid #52c5ff;
  }

  .r {
    transform: rotateY(90deg) translateZ(-30px);
    border-radius: 2px;
    width: 30px;
    height: 100px;
    left: 15px;
    position: relative;
    z-index: -1;
    background: #212121;
    box-shadow: inset 0 0 0 2px #52c5ff;
    border: 2px solid #52c5ff;
  }

  .t {
    transform: rotateX(90deg) translateZ(40px);
    border-radius: 2px;
    width: 30px;
    height: 30px;
    top: 25px;
    position: relative;
    z-index: -1;
    background: #212121;
    box-shadow: inset 0 0 0 2px #52c5ff;
    border: 2px solid #52c5ff;
  }

  .bot {
    transform: rotateX(-90deg) translateZ(60px);
    border-radius: 2px;
    width: 30px;
    height: 30px;
    top: 25px;
    position: relative;
    z-index: -1;
    background: #212121;
    box-shadow: inset 0 0 0 2px #52c5ff;
    border: 2px solid #52c5ff;
  }

  @keyframes rotateY3D {
    0% { transform: translateZ(0px) rotateX(0); }
    50% { transform: translateZ(0px) rotateX(-360deg); }
    100% { transform: translateZ(0px) rotateX(-360deg); }
  }

  @keyframes rotateX3D {
    0% { transform: translateX(0px) rotateY(0); }
    50% { transform: translateX(0px) rotateY(180deg); }
    100% { transform: translateX(0px) rotateY(360deg); }
  }

  @keyframes animMove {
    0% { transform: translateX(20px); }
    100% { transform: translateX(-10px); }
  }

  /* Theme Toggle Styles */
  .main-circle {
    width: 40rem;
    height: 40rem;
    border-radius: 100%;
    background: linear-gradient(40deg, #ff0080, #ff8c00 70%);
    position: absolute;
    z-index: 1;
    left: 50%;
    transform: translate(-50%, -70%);
  }

  .phone {
    position: relative;
    z-index: 2;
    width: 18rem;
    height: 17rem;
    background-color: inherit;
    transition: background-color 0.6s;
    box-shadow: 0 4px 35px rgba(0, 0, 0, 0.1);
    border-radius: 40px;
    display: flex;
    flex-direction: column;
  }

  .content {
    display: flex;
    flex-direction: column;
    margin: auto;
    text-align: center;
    width: 70%;
    transform: translateY(5%);
  }

  .circle {
    position: relative;
    border-radius: 100%;
    width: 8rem;
    height: 8rem;
    background: linear-gradient(40deg, #ff0080, #ff8c00, #e8e8e8, #8983f7, #a3dafb 80%);
    background-size: 400%;
    transition: background-position 0.6s;
    margin: auto;
  }

  .crescent {
    position: absolute;
    border-radius: 100%;
    right: 0;
    width: 6rem;
    height: 6rem;
    background: #e8e8e8;
    transform: scale(0);
    transform-origin: top right;
    transition: transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1), background-color 0.6s;
  }

  .phone label {
    width: 100%;
    background-color: rgba(0, 0, 0, 0.1);
    border-radius: 100px;
    position: relative;
    margin: 1.8rem 0 4rem 0;
    cursor: pointer;
    height: 2.8rem;
  }

  .toggle {
    position: absolute;
    width: 50%;
    background-color: #fff;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.15);
    transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    height: 2.8rem;
    border-radius: 100px;
  }

  .names {
    font-size: 90%;
    font-weight: bolder;
    color: black;
    width: 65%;
    margin-left: 17.5%;
    margin-top: 6.5%;
    position: absolute;
    display: flex;
    justify-content: space-between;
    user-select: none;
  }

  .dark { opacity: 0.5; }

  .phone [type="checkbox"] { display: none; }

  .phone [type="checkbox"]:checked + label .toggle {
    transform: translateX(100%);
    background-color: #34323d;
  }

  .phone [type="checkbox"]:checked + label .dark {
    opacity: 1;
    color: white;
  }

  .phone [type="checkbox"]:checked + label .light {
    opacity: 1;
    color: white;
  }

  .phone [type="checkbox"]:checked ~ .phone {
    background-color: #26242e;
    color: white;
  }

  .phone [type="checkbox"]:checked ~ .crescent {
    transform: scale(1);
    background: #26242e;
  }

  .phone [type="checkbox"]:checked ~ .circle {
    background-position: 100% 100%;
  }

  .phone [type="checkbox"]:checked ~ .main-circle {
    background: linear-gradient(40deg, #8983f7, #a3dafb 70%);
  }

  /* Chatbot Toggle Styles */
  .toggle-cont {
    --primary: #54a8fc;
    --light: #d9d9d9;
    --dark: #121212;
    --gray: #414344;
    position: relative;
    z-index: 10;
    width: fit-content;
    height: 50px;
    border-radius: 9999px;
  }

  .toggle-cont .toggle-input { display: none; }

  .toggle-cont .toggle-label {
    --gap: 5px;
    --width: 50px;
    cursor: pointer;
    position: relative;
    display: inline-block;
    padding: 0.5rem;
    width: calc((var(--width) + var(--gap)) * 2);
    height: 100%;
    background-color: var(--dark);
    border: 1px solid #777777;
    border-bottom: 0;
    border-radius: 9999px;
    box-sizing: content-box;
    transition: all 0.3s ease-in-out;
  }

  .toggle-label::before {
    content: "";
    position: absolute;
    z-index: -10;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: calc(100% + 1.5rem);
    height: calc(100% + 1.5rem);
    background-color: var(--gray);
    border: 1px solid #777777;
    border-bottom: 0;
    border-radius: 9999px;
    transition: all 0.3s ease-in-out;
  }

  .toggle-label::after {
    content: "";
    position: absolute;
    z-index: -10;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    background-image: radial-gradient(circle at 50% -100%, rgb(58, 155, 252) 0%, rgba(12, 12, 12, 1) 80%);
    border-radius: 9999px;
  }

  .toggle-cont .toggle-label .cont-icon {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--width);
    height: 50px;
    background-image: radial-gradient(circle at 50% 0%, #666666 0%, var(--gray) 100%);
    border: 1px solid #aaaaaa;
    border-bottom: 0;
    border-radius: 9999px;
    box-shadow: inset 0 -0.15rem 0.15rem var(--primary), inset 0 0 0.5rem 0.75rem var(--second);
    transition: transform 0.3s ease-in-out;
    overflow: clip;
  }

  .cont-icon .sparkle {
    position: absolute;
    top: 50%;
    left: 50%;
    display: block;
    width: calc(var(--width) * 1px);
    aspect-ratio: 1;
    background-color: var(--light);
    border-radius: 50%;
    transform-origin: 50% 50%;
    rotate: calc(1deg * var(--deg));
    transform: translate(-50%, -50%);
    animation: sparkle calc(100s / var(--duration)) linear calc(0s / var(--duration)) infinite;
  }

  @keyframes sparkle {
    to {
      width: calc(var(--width) * 0.5px);
      transform: translate(2000%, -50%);
    }
  }

  .cont-icon .icon {
    width: 1.1rem;
    fill: var(--light);
  }

  .toggle-cont:has(.toggle-input:checked) .toggle-label {
    background-color: #41434400;
    border: 1px solid #3d6970;
    border-bottom: 0;
  }

  .toggle-cont:has(.toggle-input:checked) .toggle-label::before {
    box-shadow: 0 1rem 2.5rem -2rem #0080ff;
  }

  .toggle-cont:has(.toggle-input:checked) .toggle-label .cont-icon {
    overflow: visible;
    background-image: radial-gradient(circle at 50% 0%, #045ab1 0%, var(--primary) 100%);
    border: 1px solid var(--primary);
    border-bottom: 0;
    transform: translateX(calc((var(--gap) * 2) + 100%)) rotate(-225deg);
  }

  .toggle-cont:has(.toggle-input:checked) .toggle-label .cont-icon .sparkle {
    z-index: -10;
    width: calc(var(--width) * 1.5px);
    background-color: #acacac;
    animation: sparkle calc(100s / var(--duration)) linear calc(10s / var(--duration)) infinite;
  }

  /* Generate Button Styles */
  .btn-wrapper {
    position: relative;
    display: inline-block;
  }

  .btn {
    --border-radius: 24px;
    --padding: 4px;
    --transition: 0.4s;
    --button-color: #101010;
    --highlight-color-hue: 210deg;
    user-select: none;
    display: flex;
    justify-content: center;
    padding: 0.5em 0.5em 0.5em 1.1em;
    font-family: "Poppins", "Inter", "Segoe UI", sans-serif;
    font-size: 1em;
    font-weight: 400;
    background-color: var(--button-color);
    box-shadow: inset 0px 1px 1px rgba(255, 255, 255, 0.2), inset 0px 2px 2px rgba(255, 255, 255, 0.15), inset 0px 4px 4px rgba(255, 255, 255, 0.1), inset 0px 8px 8px rgba(255, 255, 255, 0.05), inset 0px 16px 16px rgba(255, 255, 255, 0.05), 0px -1px 1px rgba(0, 0, 0, 0.02), 0px -2px 2px rgba(0, 0, 0, 0.03), 0px -4px 4px rgba(0, 0, 0, 0.05), 0px -8px 8px rgba(0, 0, 0, 0.06), 0px -16px 16px rgba(0, 0, 0, 0.08);
    border: solid 1px #fff2;
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: box-shadow var(--transition), border var(--transition), background-color var(--transition);
  }

  .btn::before {
    content: "";
    position: absolute;
    top: calc(0px - var(--padding));
    left: calc(0px - var(--padding));
    width: calc(100% + var(--padding) * 2);
    height: calc(100% + var(--padding) * 2);
    border-radius: calc(var(--border-radius) + var(--padding));
    pointer-events: none;
    background-image: linear-gradient(0deg, #0004, #000a);
    z-index: -1;
    transition: box-shadow var(--transition), filter var(--transition);
    box-shadow: 0 -8px 8px -6px #0000 inset, 0 -16px 16px -8px #00000000 inset, 1px 1px 1px #fff2, 2px 2px 2px #fff1, -1px -1px 1px #0002, -2px -2px 2px #0001;
  }

  .btn::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: inherit;
    pointer-events: none;
    background-image: linear-gradient(0deg, #fff, hsl(var(--highlight-color-hue), 100%, 70%), hsla(var(--highlight-color-hue), 100%, 70%, 50%), 8%, transparent);
    background-position: 0 0;
    opacity: 0;
    transition: opacity var(--transition), filter var(--transition);
  }

  .btn-letter {
    position: relative;
    display: inline-block;
    color: #fff5;
    animation: letter-anim 2s ease-in-out infinite;
    transition: color var(--transition), text-shadow var(--transition), opacity var(--transition);
  }

  @keyframes letter-anim {
    50% { text-shadow: 0 0 3px #fff8; color: #fff; }
  }

  .btn-svg {
    flex-grow: 1;
    height: 24px;
    margin-right: 0.5rem;
    fill: #e8e8e8;
    animation: flicker 2s linear infinite;
    animation-delay: 0.5s;
    filter: drop-shadow(0 0 2px #fff9);
    transition: fill var(--transition), filter var(--transition), opacity var(--transition);
  }

  @keyframes flicker {
    50% { opacity: 0.3; }
  }

  .txt-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    min-width: 6.4em;
  }

  .txt-1, .txt-2 {
    position: absolute;
    word-spacing: -1em;
  }

  .txt-1 { animation: appear-anim 1s ease-in-out forwards; }
  .txt-2 { opacity: 0; }

  @keyframes appear-anim {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }

  .btn:hover {
    border: solid 1px hsla(var(--highlight-color-hue), 100%, 80%, 40%);
  }

  .btn:hover::before {
    box-shadow: 0 -8px 8px -6px #fffa inset, 0 -16px 16px -8px hsla(var(--highlight-color-hue), 100%, 70%, 30%) inset, 1px 1px 1px #fff2, 2px 2px 2px #fff1, -1px -1px 1px #0002, -2px -2px 2px #0001;
  }

  .btn:hover::after {
    opacity: 1;
    mask-image: linear-gradient(0deg, #fff, transparent);
  }

  .btn:hover .btn-svg {
    fill: #fff;
    filter: drop-shadow(0 0 3px hsl(var(--highlight-color-hue), 100%, 70%)) drop-shadow(0 -4px 6px #0009);
    animation: none;
  }
}
